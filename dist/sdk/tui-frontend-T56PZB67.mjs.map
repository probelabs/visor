{"version":3,"sources":["../../src/tui/chat-state.ts","../../src/tui/tui-frontend.ts"],"sourcesContent":["/**\n * Chat State Manager for TUI\n *\n * Manages chat message history, processing state, and human-input waiting state.\n */\n\nexport interface ChatMessage {\n  id: string;\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n  timestamp: Date;\n  checkId?: string;\n}\n\nexport interface WaitingState {\n  checkId: string;\n  prompt: string;\n  placeholder?: string;\n  multiline?: boolean;\n  timeout?: number;\n  defaultValue?: string;\n  allowEmpty?: boolean;\n}\n\nexport interface ChatStateManagerOptions {\n  maxMessages?: number;\n}\n\nexport class ChatStateManager {\n  private _history: ChatMessage[] = [];\n  private _isProcessing = false;\n  private _waitingState?: WaitingState;\n  private _inputQueue: string[] = [];\n  private _maxMessages: number;\n  private _messageCounter = 0;\n  private _statusText = 'Ready';\n\n  constructor(options: ChatStateManagerOptions = {}) {\n    this._maxMessages = options.maxMessages ?? 1000;\n  }\n\n  get history(): ChatMessage[] {\n    return [...this._history];\n  }\n\n  get isProcessing(): boolean {\n    return this._isProcessing;\n  }\n\n  get isWaiting(): boolean {\n    return this._waitingState !== undefined;\n  }\n\n  get waitingState(): WaitingState | undefined {\n    return this._waitingState;\n  }\n\n  get hasQueuedInput(): boolean {\n    return this._inputQueue.length > 0;\n  }\n\n  get statusText(): string {\n    return this._statusText;\n  }\n\n  setStatus(text: string): void {\n    this._statusText = text;\n  }\n\n  addMessage(\n    role: 'user' | 'assistant' | 'system',\n    content: string,\n    checkId?: string\n  ): ChatMessage {\n    const message: ChatMessage = {\n      id: `msg-${++this._messageCounter}`,\n      role,\n      content,\n      timestamp: new Date(),\n      checkId,\n    };\n\n    this._history.push(message);\n\n    // Trim history if it exceeds max\n    while (this._history.length > this._maxMessages) {\n      this._history.shift();\n    }\n\n    return message;\n  }\n\n  setProcessing(processing: boolean): void {\n    this._isProcessing = processing;\n    if (processing) {\n      this._statusText = 'Processing...';\n    } else if (!this._waitingState) {\n      this._statusText = 'Ready';\n    }\n  }\n\n  setWaiting(state: WaitingState | undefined): void {\n    this._waitingState = state;\n    if (state) {\n      this._statusText = 'Awaiting input...';\n    } else if (!this._isProcessing) {\n      this._statusText = 'Ready';\n    }\n  }\n\n  clearWaiting(): void {\n    this._waitingState = undefined;\n    if (!this._isProcessing) {\n      this._statusText = 'Ready';\n    }\n  }\n\n  queueInput(input: string): void {\n    this._inputQueue.push(input);\n  }\n\n  dequeueInput(): string | undefined {\n    return this._inputQueue.shift();\n  }\n\n  clearQueue(): void {\n    this._inputQueue = [];\n  }\n\n  clearHistory(): void {\n    this._history = [];\n  }\n\n  getRecentMessages(count: number): ChatMessage[] {\n    return this._history.slice(-count);\n  }\n\n  formatMessageForDisplay(message: ChatMessage): string {\n    const time = message.timestamp.toLocaleTimeString('en-US', {\n      hour12: false,\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n    });\n\n    const content = this.escapeTags(message.content);\n\n    if (message.role === 'user') {\n      const header = `{black-bg}{bold} > You {/bold}[${time}]{/black-bg}`;\n      const body = content\n        .split('\\n')\n        .map((l: string) => `{black-bg} ${l} {/black-bg}`)\n        .join('\\n');\n      return `${header}\\n${body}`;\n    }\n\n    if (message.role === 'assistant') {\n      const header = `{bold}{green-fg}●{/green-fg} Assistant{/bold} {gray-fg}[${time}]{/gray-fg}`;\n      return `${header}\\n${content}`;\n    }\n\n    // System/Visor messages: gray and subdued\n    const header = `{gray-fg}⊘ Visor [${time}]`;\n    return `${header}\\n${content}{/gray-fg}`;\n  }\n\n  private escapeTags(text: string): string {\n    return text.replace(/\\{/g, '\\\\{');\n  }\n\n  formatHistoryForDisplay(): string {\n    if (this._history.length === 0) {\n      return '{gray-fg}No messages yet. Type a message to start...{/gray-fg}';\n    }\n\n    const separator = '\\n\\n';\n    return this._history.map(msg => this.formatMessageForDisplay(msg)).join(separator);\n  }\n}\n\n// Singleton instance for global access\nlet globalStateManager: ChatStateManager | undefined;\n\nexport function getChatStateManager(): ChatStateManager {\n  if (!globalStateManager) {\n    globalStateManager = new ChatStateManager();\n  }\n  return globalStateManager;\n}\n\nexport function setChatStateManager(manager: ChatStateManager): void {\n  globalStateManager = manager;\n}\n\nexport function resetChatStateManager(): void {\n  globalStateManager = undefined;\n}\n","/**\n * TUI Frontend for Visor workflows.\n *\n * Subscribes to EventBus events and updates the ChatTUI accordingly:\n * - CheckCompleted → Display AI response in chat\n * - HumanInputRequested → Set waiting state, update placeholder\n * - StateTransition → Update status bar\n * - CheckErrored → Display error message\n */\nimport type { Frontend, FrontendContext } from '../frontends/host';\nimport { ChatTUI } from './chat-tui';\nimport { getChatStateManager } from './chat-state';\nimport { extractTextFromJson } from '../utils/json-text-extractor';\n\nexport interface TuiFrontendConfig {\n  chatTui?: ChatTUI;\n}\n\nexport class TuiFrontend implements Frontend {\n  public readonly name = 'tui';\n  private subs: Array<{ unsubscribe(): void }> = [];\n  private chatTui?: ChatTUI;\n\n  constructor(config?: TuiFrontendConfig) {\n    this.chatTui = config?.chatTui;\n  }\n\n  setChatTUI(tui: ChatTUI): void {\n    this.chatTui = tui;\n  }\n\n  start(ctx: FrontendContext): void {\n    const bus = ctx.eventBus;\n\n    // Info-level boot log\n    try {\n      ctx.logger.info(`[tui-frontend] started; hasChatTui=${!!this.chatTui}`);\n    } catch {}\n\n    // Listen to check lifecycle\n    this.subs.push(\n      bus.on('CheckCompleted', async (env: any) => {\n        try {\n          const ev = (env && env.payload) || env;\n          this.handleCheckCompleted(ctx, ev.checkId, ev.result);\n        } catch {}\n      })\n    );\n\n    this.subs.push(\n      bus.on('CheckErrored', async (env: any) => {\n        const ev = (env && env.payload) || env;\n        const message = ev?.error?.message || 'Execution error';\n        this.handleError(ctx, ev?.checkId, message);\n      })\n    );\n\n    // Human input requests\n    this.subs.push(\n      bus.on('HumanInputRequested', async (env: any) => {\n        const ev = (env && env.payload) || env;\n        if (!ev || typeof ev.prompt !== 'string' || !ev.checkId) return;\n        this.handleHumanInputRequested(ctx, ev);\n      })\n    );\n\n    // State transitions\n    this.subs.push(\n      bus.on('StateTransition', async (env: any) => {\n        const ev = (env && env.payload) || env;\n        this.handleStateTransition(ctx, ev);\n      })\n    );\n\n    // Shutdown events\n    this.subs.push(\n      bus.on('Shutdown', async (env: any) => {\n        const ev = (env && env.payload) || env;\n        const message = ev?.error?.message || 'Workflow completed';\n        this.handleShutdown(ctx, message);\n      })\n    );\n  }\n\n  stop(): void {\n    for (const s of this.subs) s.unsubscribe();\n    this.subs = [];\n  }\n\n  private handleCheckCompleted(\n    ctx: FrontendContext,\n    checkId: string,\n    result: { output?: unknown; content?: string }\n  ): void {\n    try {\n      if (!this.chatTui) return;\n\n      const cfg: any = ctx.config || {};\n      const checkCfg: any = cfg.checks?.[checkId];\n      if (!checkCfg) return;\n\n      // Skip internal steps\n      if (checkCfg.criticality === 'internal') return;\n\n      // Extract text from result\n      let text: string | undefined;\n\n      // Try extracting from output\n      const out: any = result?.output;\n      if (out) {\n        // First try extractTextFromJson for structured outputs\n        const extracted = extractTextFromJson(out);\n        if (extracted) {\n          text = extracted.trim();\n        } else if (typeof out.text === 'string' && out.text.trim()) {\n          text = out.text.trim();\n        } else if (typeof out === 'string' && out.trim()) {\n          text = out.trim();\n        }\n      }\n\n      // Fall back to content\n      if (!text && typeof result?.content === 'string' && result.content.trim()) {\n        text = result.content.trim();\n      }\n\n      // Fall back to logOutput for log checks\n      if (!text) {\n        const logResult = result as any;\n        if (typeof logResult?.logOutput === 'string' && logResult.logOutput.trim()) {\n          text = logResult.logOutput.trim();\n        }\n      }\n\n      if (!text) return;\n\n      // Add message to chat\n      this.chatTui.addAssistantMessage(text, checkId);\n\n      try {\n        ctx.logger.info(`[tui-frontend] displayed AI response for ${checkId}`);\n      } catch {}\n    } catch (err) {\n      try {\n        ctx.logger.warn(\n          `[tui-frontend] handleCheckCompleted failed: ${err instanceof Error ? err.message : String(err)}`\n        );\n      } catch {}\n    }\n  }\n\n  private handleError(_ctx: FrontendContext, checkId: string | undefined, message: string): void {\n    if (!this.chatTui) return;\n\n    const errorText = checkId ? `[Error in ${checkId}] ${message}` : `[Error] ${message}`;\n\n    this.chatTui.addSystemMessage(errorText);\n    this.chatTui.setStatus('Error occurred');\n  }\n\n  private handleHumanInputRequested(_ctx: FrontendContext, ev: any): void {\n    if (!this.chatTui) return;\n\n    const stateManager = getChatStateManager();\n    stateManager.setWaiting({\n      checkId: String(ev.checkId),\n      prompt: String(ev.prompt),\n      placeholder: ev.placeholder,\n      multiline: ev.multiline,\n      timeout: ev.timeout,\n      defaultValue: ev.default,\n      allowEmpty: ev.allowEmpty,\n    });\n\n    this.chatTui.setWaiting(true, ev.prompt);\n  }\n\n  private handleStateTransition(_ctx: FrontendContext, ev: any): void {\n    if (!this.chatTui) return;\n\n    const to = ev?.to as string;\n\n    if (to === 'Completed' || to === 'Error') {\n      this.chatTui.setProcessing(false);\n      this.chatTui.setStatus(to === 'Completed' ? 'Workflow completed' : 'Workflow failed');\n    } else if (to === 'Running' || to === 'Executing') {\n      this.chatTui.setProcessing(true);\n      this.chatTui.setStatus('Processing...');\n    } else if (to === 'Waiting') {\n      // Handled by HumanInputRequested\n    }\n  }\n\n  private handleShutdown(_ctx: FrontendContext, message: string): void {\n    if (!this.chatTui) return;\n    this.chatTui.setProcessing(false);\n    this.chatTui.setStatus(message);\n  }\n}\n"],"mappings":"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","names":["header"]}