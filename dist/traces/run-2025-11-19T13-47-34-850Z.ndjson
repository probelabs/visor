{"name":"visor.run","attributes":{"started":true}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"f7430381-1608-4dfa-a2d1-95626b4d4d37"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"d4f391b1-89b9-4cd5-b386-29649528dd24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"f7430381-1608-4dfa-a2d1-95626b4d4d37"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"d4f391b1-89b9-4cd5-b386-29649528dd24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"14a0c404-8f70-4f30-9eb1-7c61b5ebe7b7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"f7430381-1608-4dfa-a2d1-95626b4d4d37"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d4f391b1-89b9-4cd5-b386-29649528dd24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"14a0c404-8f70-4f30-9eb1-7c61b5ebe7b7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"start","visor.provider.type":"log"}}
{"name":"visor.provider","attributes":{"visor.check.id":"run-review","visor.provider.type":"workflow"}}
{"name":"visor.provider","attributes":{"visor.check.id":"detect-mode","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"detect-mode","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"history\":{}},\"outputs_history\":{},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_AGENT_OUT_DIR\":\"output\",\"VISOR_AGENT_CLEANUP_FORCE\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.provider","attributes":{"visor.check.id":"draft","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"draft","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"14a0c404-8f70-4f30-9eb1-7c61b5ebe7b7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f7430381-1608-4dfa-a2d1-95626b4d4d37"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f7430381-1608-4dfa-a2d1-95626b4d4d37"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f7430381-1608-4dfa-a2d1-95626b4d4d37"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f7430381-1608-4dfa-a2d1-95626b4d4d37"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"f7430381-1608-4dfa-a2d1-95626b4d4d37"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"c279f441-a814-43b7-a5c0-04215b4a8066"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763560055094}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"c279f441-a814-43b7-a5c0-04215b4a8066"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c279f441-a814-43b7-a5c0-04215b4a8066"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-review","visor.provider.type":"workflow"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"run-review","scope":"check","name":"run-review_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c279f441-a814-43b7-a5c0-04215b4a8066"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c279f441-a814-43b7-a5c0-04215b4a8066"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"c279f441-a814-43b7-a5c0-04215b4a8066"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"c279f441-a814-43b7-a5c0-04215b4a8066"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"c279f441-a814-43b7-a5c0-04215b4a8066"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"detect-mode","visor.check.output":"\"{\\\"path\\\":\\\"\\\",\\\"exists\\\": false, \\\"empty\\\": , \\\"mode\\\": \\\"new\\\"}\""},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"f66c5c06-e355-473b-ae78-9484adea91fa"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"start","visor.provider.type":"log"}}
{"name":"visor.provider","attributes":{"visor.check.id":"detect-mode","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"detect-mode","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"history\":{}},\"outputs_history\":{},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_AGENT_MODE\":\"improve\",\"VISOR_AGENT_OUT_DIR\":\"tmp\",\"VISOR_AGENT_PATH\":\"tmp/improv.yaml\",\"VISOR_AGENT_TESTS_PATH\":\"tmp/improv.tests.yaml\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"load-existing","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"load-existing","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"detect-mode\":\"\",\"start\":{\"issues\":[],\"logOutput\":\"ðŸ› **DEBUG**: start\\n\\n### PR Context\\n- **PR #1**: Bug: crashes on search edge case\\n- **Author**: test-user\\n- **Base**: main â†’ **Head**: feature/test\\n- **Changes**: +0 -0\\n- **Files Modified**: 0\\n\\n### Dependency Results\\n- No dependency results available\\n\\n### Execution Metadata\\n- **Timestamp**: 2025-11-19T13:47:35.131Z\\n- **Node Version**: v24.7.0\\n- **Platform**: linux\\n- **Working Directory**: /home/buger/projects/visor2\"},\"write\":{\"issues\":[]},\"history\":{\"write\":[{\"issues\":[]}],\"start\":[{\"issues\":[],\"logOutput\":\"ðŸ› **DEBUG**: start\\n\\n### PR Context\\n- **PR #1**: Bug: crashes on search edge case\\n- **Author**: test-user\\n- **Base**: main â†’ **Head**: feature/test\\n- **Changes**: +0 -0\\n- **Files Modified**: 0\\n\\n### Dependency Results\\n- No dependency results available\\n\\n### Execution Metadata\\n- **Timestamp**: 2025-11-19T13:47:35.131Z\\n- **Node Version**: v24.7.0\\n- **Platform**: linux\\n- **Working Directory**: /home/buger/projects/visor2\"}],\"detect-mode\":[\"\"]}},\"outputs_history\":{\"write\":[{\"issues\":[]}],\"start\":[{\"issues\":[],\"logOutput\":\"ðŸ› **DEBUG**: start\\n\\n### PR Context\\n- **PR #1**: Bug: crashes on search edge case\\n- **Author**: test-user\\n- **Base**: main â†’ **Head**: feature/test\\n- **Changes**: +0 -0\\n- **Files Modified**: 0\\n\\n### Dependency Results\\n- No dependency results available\\n\\n### Execution Metadata\\n- **Timestamp**: 2025-11-19T13:47:35.131Z\\n- **Node Version**: v24.7.0\\n- **Platform**: linux\\n- **Working Directory**: /home/buger/projects/visor2\"}],\"detect-mode\":[\"\"]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_AGENT_MODE\":\"improve\",\"VISOR_AGENT_OUT_DIR\":\"tmp\",\"VISOR_AGENT_PATH\":\"tmp/improv.yaml\",\"VISOR_AGENT_TESTS_PATH\":\"tmp/improv.tests.yaml\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"f5b1c94a-b06b-43b0-aeae-7e7e0c5c554b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"start","visor.provider.type":"log"}}
{"name":"visor.provider","attributes":{"visor.check.id":"detect-mode","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"detect-mode","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"history\":{}},\"outputs_history\":{},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_AGENT_OUT_DIR\":\"tmp\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.provider","attributes":{"visor.check.id":"draft","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"draft","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763560055167},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763560055094}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"detect-mode","visor.check.output":"\"{\\\"path\\\":\\\"\\\",\\\"exists\\\": false, \\\"empty\\\": , \\\"mode\\\": \\\"new\\\"}\""},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4f391b1-89b9-4cd5-b386-29649528dd24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4f391b1-89b9-4cd5-b386-29649528dd24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d4f391b1-89b9-4cd5-b386-29649528dd24"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4f391b1-89b9-4cd5-b386-29649528dd24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4f391b1-89b9-4cd5-b386-29649528dd24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"d4f391b1-89b9-4cd5-b386-29649528dd24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"7b027866-75d8-4ca3-bbad-18a1938e381d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"brief","visor.provider.type":"human-input"}}
{"name":"visor.provider","attributes":{"visor.check.id":"detect-mode","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"detect-mode","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"history\":{}},\"outputs_history\":{},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_AGENT_OUT_DIR\":\"tmp\",\"VISOR_AGENT_PATH\":\"tmp/nonexistent.yaml\",\"VISOR_CHAT_MODE\":\"true\",\"VISOR_CHAT_MAX_LOOPS\":\"1\",\"VISOR_TEST_MODE\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"draft","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"draft","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"brief\":{\"text\":\"first brief\",\"ts\":1763560055195},\"detect-mode\":\"\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"14a0c404-8f70-4f30-9eb1-7c61b5ebe7b7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"14a0c404-8f70-4f30-9eb1-7c61b5ebe7b7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"14a0c404-8f70-4f30-9eb1-7c61b5ebe7b7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763560055203}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"readability","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"readability","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763560055203}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763560055206},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055206},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763560055094},\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763560055167}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":3,"session_id":"c9ee764e-82a2-477c-91a2-1118153ed1a1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"brief","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"draft","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"draft","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"brief\":{\"text\":\"Create a minimal agent that can scaffold other agents (config + tests).\",\"ts\":1763560055218}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763560055221},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763560055094},\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763560055167},\"plan-commands\":{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763560055206},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055206},\"history\":{\"ask\":[{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763560055094}],\"refine\":[{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763560055167}],\"plan-commands\":[{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763560055206}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055206}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763560055221}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763560055094}],\"refine\":[{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763560055167}],\"plan-commands\":[{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763560055206}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055206}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763560055221}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_TEST_ALLOW_CODE_CONTEXT\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"14a0c404-8f70-4f30-9eb1-7c61b5ebe7b7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"14a0c404-8f70-4f30-9eb1-7c61b5ebe7b7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"14a0c404-8f70-4f30-9eb1-7c61b5ebe7b7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"14a0c404-8f70-4f30-9eb1-7c61b5ebe7b7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"ce3c5271-f953-4fec-96c7-c370e6ac7132"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Create a CI job\",\"ts\":1763560055239}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"refine","scope":"check","name":"refine_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763560055254},\"refine\":{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763560055252}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"refine","scope":"check","name":"refine_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763560055262},\"refine\":{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763560055261}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763560055269},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763560055262}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055276},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055277},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763560055262},\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763560055269}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055283},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763560055262},\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763560055269},\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055276},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055277},\"history\":{\"ask\":[{\"text\":\"Create a CI job\",\"ts\":1763560055239},{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763560055254},{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763560055262}],\"refine\":[{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763560055252},{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763560055261},{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763560055269}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055276}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055277}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055283}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Create a CI job\",\"ts\":1763560055239},{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763560055254},{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763560055262}],\"refine\":[{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763560055252},{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763560055261},{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763560055269}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055276}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055277}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055283}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_TEST_ALLOW_CODE_CONTEXT\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":3,"session_id":"2e0ea928-2e43-440e-ad5c-a7c090b36957"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763560055295}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763560055302},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763560055295}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055309},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055310},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763560055295},\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763560055302}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055317},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763560055295},\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763560055302},\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055309},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055310},\"history\":{\"ask\":[{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763560055295}],\"refine\":[{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763560055302}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055309}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055310}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055317}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763560055295}],\"refine\":[{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763560055302}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055309}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055310}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763560055317}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_TEST_ALLOW_CODE_CONTEXT\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"e78e3924-4038-4ca4-a0ff-0096da88775e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763560055329}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055336},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763560055329}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055343},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055343},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763560055329},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055336}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055349},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763560055329},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055336},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055343},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055343},\"history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763560055329}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055336}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055343}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055343}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055349}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763560055329}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055336}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055343}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055343}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055349}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_TEST_ALLOW_CODE_CONTEXT\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763560055359},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055336},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055343},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055343},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055349},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055365},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763560055359},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055343},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055343},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055349},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763560055372},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055372},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763560055359},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055365},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055349},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055379},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763560055359},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055365},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763560055372},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055372},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\",\"history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763560055329},{\"text\":\"Verify app passes tests\",\"ts\":1763560055359}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055336},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055365}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055343},{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763560055372}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055343},{\"text\":\"yes\",\"ts\":1763560055372}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055349},{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055379}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763560055329},{\"text\":\"Verify app passes tests\",\"ts\":1763560055359}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055336},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055365}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055343},{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763560055372}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055343},{\"text\":\"yes\",\"ts\":1763560055372}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055349},{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055379}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_TEST_ALLOW_CODE_CONTEXT\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"252bf74b-7b12-440b-a44d-365cb81cbef1"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763560055391}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763560055397},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763560055391}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763560055404},\"ask-confirm\":{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763560055404},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763560055391},\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763560055397}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763560055410},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763560055391},\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763560055397},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763560055404},\"ask-confirm\":{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763560055404},\"history\":{\"ask\":[{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763560055391}],\"refine\":[{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763560055397}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763560055404}],\"ask-confirm\":[{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763560055404}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763560055410}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763560055391}],\"refine\":[{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763560055397}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763560055404}],\"ask-confirm\":[{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763560055404}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763560055410}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_TEST_ALLOW_CODE_CONTEXT\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"b14897a9-65df-41d7-84a9-170e342d7979"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763560055420}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763560055426},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763560055420}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763560055433},\"ask-confirm\":{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763560055434},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763560055420},\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763560055426}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763560055441},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763560055420},\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763560055426},\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763560055433},\"ask-confirm\":{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763560055434},\"history\":{\"ask\":[{\"text\":\"Run lint and tests\",\"ts\":1763560055420}],\"refine\":[{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763560055426}],\"plan-commands\":[{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763560055433}],\"ask-confirm\":[{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763560055434}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763560055441}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Run lint and tests\",\"ts\":1763560055420}],\"refine\":[{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763560055426}],\"plan-commands\":[{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763560055433}],\"ask-confirm\":[{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763560055434}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763560055441}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_TEST_ALLOW_CODE_CONTEXT\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"ce5b29fd-3c75-4687-8647-2db50de6c823"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763560055451}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763560055457},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763560055451}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763560055464},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763560055464},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763560055451},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763560055457}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763560055471},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763560055457},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763560055464},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763560055464},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763560055470}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763560055477},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763560055471},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763560055464},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763560055464},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763560055470}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763560055483},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055484},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763560055471},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763560055477},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763560055470}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763560055490},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763560055471},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763560055477},\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763560055483},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055484},\"history\":{\"ask\":[{\"text\":\"Set up lint and test checks\",\"ts\":1763560055451},{\"text\":\"Set up lint and test checks\",\"ts\":1763560055471}],\"refine\":[{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763560055457},{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763560055477}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763560055464},{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763560055483}],\"ask-confirm\":[{\"text\":\"No, add lint too\",\"ts\":1763560055464},{\"text\":\"yes\",\"ts\":1763560055484}],\"confirm-interpret\":[{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763560055470},{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763560055490}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Set up lint and test checks\",\"ts\":1763560055451},{\"text\":\"Set up lint and test checks\",\"ts\":1763560055471}],\"refine\":[{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763560055457},{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763560055477}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763560055464},{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763560055483}],\"ask-confirm\":[{\"text\":\"No, add lint too\",\"ts\":1763560055464},{\"text\":\"yes\",\"ts\":1763560055484}],\"confirm-interpret\":[{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763560055470},{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763560055490}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_TEST_ALLOW_CODE_CONTEXT\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"0ceedca0-d5bf-4bd1-a34c-bdd825b83e70"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763560055503}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055509},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763560055503}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055515},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055515},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763560055503},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055509}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055521},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763560055503},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055509},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055515},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055515},\"history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763560055503}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055509}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055515}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055515}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055521}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763560055503}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055509}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055515}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055515}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055521}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_TEST_ALLOW_CODE_CONTEXT\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763560055530},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055509},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055515},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055515},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055521},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055536},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763560055530},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055515},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055515},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055521},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo ok\"],\"ts\":1763560055542},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055543},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763560055530},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055536},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055521},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763560055549},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763560055530},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055536},\"plan-commands\":{\"commands\":[\"echo ok\"],\"ts\":1763560055542},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763560055543},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\",\"history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763560055503},{\"text\":\"Verify app tests pass\",\"ts\":1763560055530}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055509},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055536}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055515},{\"commands\":[\"echo ok\"],\"ts\":1763560055542}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055515},{\"text\":\"yes\",\"ts\":1763560055543}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055521},{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763560055549}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763560055503},{\"text\":\"Verify app tests pass\",\"ts\":1763560055530}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055509},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763560055536}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055515},{\"commands\":[\"echo ok\"],\"ts\":1763560055542}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763560055515},{\"text\":\"yes\",\"ts\":1763560055543}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763560055521},{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763560055549}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"COLORTERM\":\"truecolor\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"41\",\"XDG_SESSION_TYPE\":\"tty\",\"MOTD_SHOWN\":\"pam\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"STARSHIP_SESSION_KEY\":\"5614152961699532\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"SHLVL\":\"2\",\"XDG_SESSION_ID\":\"4\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBRip8ekApm09lSy0zMN84DuR17VxIyxPk\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"MISE_SHELL\":\"bash\",\"PATH\":\"/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"_\":\"./dist/index.js\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc164\",\"VISOR_COMMIT_SHA\":\"c00d0c684081c98a6b0088886089b18e6ef03c24\",\"VISOR_COMMIT_SHORT\":\"c00d0c68\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T13-47-34-850Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_PROMPT_TYPE\":\"engineer\",\"GITHUB_REPOSITORY\":\"owner/repo\",\"VISOR_TEST_ALLOW_CODE_CONTEXT\":\"true\",\"VISOR_STRICT_ERRORS\":\"true\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"a35f344a-ab3e-4637-b351-72ef91b083b6"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.output":"{\"issues\":[{\"file\":\"AI_RESPONSE\",\"line\":1,\"ruleId\":\"ai/raw_response\",\"message\":\"{\\\"text\\\":\\\"### Assistant Reply\\\",\\\"intent\\\":\\\"issue_triage\\\"}\",\"severity\":\"info\",\"category\":\"documentation\"}]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"a753edec-7f6e-41fa-bceb-acc3281f0fa4"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"draft","visor.check.output":"{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":3,"session_id":"8e7b13a4-c127-464f-9279-cca85ec1a780"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.output":"{\"text\":\"### Assistant Reply\",\"intent\":\"comment_reply\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"9757c8b8-d51f-46f4-8e68-a6cfbbe84dc6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"68bd7a86-22a6-4945-97ee-d2b52ddf6d6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"68bd7a86-22a6-4945-97ee-d2b52ddf6d6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"68bd7a86-22a6-4945-97ee-d2b52ddf6d6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"68bd7a86-22a6-4945-97ee-d2b52ddf6d6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"68bd7a86-22a6-4945-97ee-d2b52ddf6d6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"68bd7a86-22a6-4945-97ee-d2b52ddf6d6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-issue-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"68bd7a86-22a6-4945-97ee-d2b52ddf6d6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"68bd7a86-22a6-4945-97ee-d2b52ddf6d6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"68bd7a86-22a6-4945-97ee-d2b52ddf6d6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763560056231}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763560056231}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763560056231}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763560056231}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"2747b4c9-c439-402f-820e-8bed030ff8e0"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"65a31f14-5c05-40c0-b4dc-d2ec2b2f1627"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"65a31f14-5c05-40c0-b4dc-d2ec2b2f1627"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"65a31f14-5c05-40c0-b4dc-d2ec2b2f1627"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"65a31f14-5c05-40c0-b4dc-d2ec2b2f1627"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"65a31f14-5c05-40c0-b4dc-d2ec2b2f1627"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"65a31f14-5c05-40c0-b4dc-d2ec2b2f1627"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"c2b950ee-f441-47f5-b2a7-801e4b3c3fe2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"c2b950ee-f441-47f5-b2a7-801e4b3c3fe2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c2b950ee-f441-47f5-b2a7-801e4b3c3fe2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c2b950ee-f441-47f5-b2a7-801e4b3c3fe2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c2b950ee-f441-47f5-b2a7-801e4b3c3fe2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"c2b950ee-f441-47f5-b2a7-801e4b3c3fe2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763560056303}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763560056320},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763560056303}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763560056320},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763560056303}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763560056320},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763560056303}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763560056320},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763560056303}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"d6c0e3d4-f244-4f5b-b02e-1a48a1c7290e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763560056840}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763560056840},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"bbce14b8-75c5-4e85-a668-be93e5f139d3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763560056875}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763560056875},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763560056875},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763560056902},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763560056902},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"ae8a47f5-7a58-4e2f-8754-1c9ccaf86217"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763560056945}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763560056945},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":1,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763560056945},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763560056945},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"}},{\"issues\":[],\"output\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763560056978},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"}},{\"issues\":[],\"output\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763560056978},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":1,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763560056978},\"validate-fact\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"},\"post-verified\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"f08c1b9d-1f66-4adc-bf33-21f4c9fcf320"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"596e3a29-7e9d-4070-8590-76985ef721a3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"596e3a29-7e9d-4070-8590-76985ef721a3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"596e3a29-7e9d-4070-8590-76985ef721a3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.output":"{\"text\":\"### Assistant Reply\",\"intent\":\"comment_reply\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"596e3a29-7e9d-4070-8590-76985ef721a3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"596e3a29-7e9d-4070-8590-76985ef721a3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"596e3a29-7e9d-4070-8590-76985ef721a3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Opening issue with claim about defaults/visor.yaml\",\"intent\":\"issue_triage\",\"ts\":1763560057530},\"apply-issue-labels\":{\"issues\":[]}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Opening issue with claim about defaults/visor.yaml\",\"intent\":\"issue_triage\",\"ts\":1763560057530},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"805acdc3-95ce-4bfc-8c90-0b8c84d00aa6"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763560057549},\"apply-issue-labels\":{\"issues\":[]}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763560057549},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763560057549},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763560057566},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763560057566},\"apply-issue-labels\":{\"issues\":[]},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"36911f91-be6b-422d-9360-67c110479dbe"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763560057610}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763560057610}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763560057610}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763560057610}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"b2ecf610-3314-4df3-b0f1-488168fe9ca5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"f2b9b652-a05b-4b57-828a-9d6ce3773a4c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"f2b9b652-a05b-4b57-828a-9d6ce3773a4c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"f2b9b652-a05b-4b57-828a-9d6ce3773a4c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f2b9b652-a05b-4b57-828a-9d6ce3773a4c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f2b9b652-a05b-4b57-828a-9d6ce3773a4c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"f2b9b652-a05b-4b57-828a-9d6ce3773a4c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview text\",\"tags\":{\"label\":\"bug\",\"review-effort\":3},\"ts\":1763560058163}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"security","scope":"check","name":"security_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f2b9b652-a05b-4b57-828a-9d6ce3773a4c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f2b9b652-a05b-4b57-828a-9d6ce3773a4c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"f2b9b652-a05b-4b57-828a-9d6ce3773a4c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"e32a2700-d8fd-4f07-affa-068efa01e81c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"e32a2700-d8fd-4f07-affa-068efa01e81c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e32a2700-d8fd-4f07-affa-068efa01e81c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e32a2700-d8fd-4f07-affa-068efa01e81c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e32a2700-d8fd-4f07-affa-068efa01e81c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"e32a2700-d8fd-4f07-affa-068efa01e81c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763560058183}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.output":"{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763560058691},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763560058183}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763560058691},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763560058183}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763560058691},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763560058183}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763560058691},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763560058183}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"86c36a42-9f1a-4b33-a593-5b30be5f916c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"932c746c-de06-43e2-85b9-955701dc6d79"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"932c746c-de06-43e2-85b9-955701dc6d79"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"932c746c-de06-43e2-85b9-955701dc6d79"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"932c746c-de06-43e2-85b9-955701dc6d79"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"932c746c-de06-43e2-85b9-955701dc6d79"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"932c746c-de06-43e2-85b9-955701dc6d79"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"932c746c-de06-43e2-85b9-955701dc6d79"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"932c746c-de06-43e2-85b9-955701dc6d79"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"932c746c-de06-43e2-85b9-955701dc6d79"}}]}
