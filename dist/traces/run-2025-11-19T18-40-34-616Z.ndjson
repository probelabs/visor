{"name":"visor.run","attributes":{"started":true}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"8d2aa04f-779c-4dbd-a73f-ff84b1801d56"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"a8619326-c940-45de-aae8-3a25d16e5057"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"8d2aa04f-779c-4dbd-a73f-ff84b1801d56"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"dcea52d6-a832-4065-8e92-495111c57176"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"a8619326-c940-45de-aae8-3a25d16e5057"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"bbd55cfd-b59f-41f3-8989-a01f324222d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"8d2aa04f-779c-4dbd-a73f-ff84b1801d56"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"dcea52d6-a832-4065-8e92-495111c57176"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a8619326-c940-45de-aae8-3a25d16e5057"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"bbd55cfd-b59f-41f3-8989-a01f324222d5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-review","visor.provider.type":"workflow"}}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"dcea52d6-a832-4065-8e92-495111c57176"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bbd55cfd-b59f-41f3-8989-a01f324222d5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8d2aa04f-779c-4dbd-a73f-ff84b1801d56"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8d2aa04f-779c-4dbd-a73f-ff84b1801d56"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"8d2aa04f-779c-4dbd-a73f-ff84b1801d56"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"post-verified","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"8d2aa04f-779c-4dbd-a73f-ff84b1801d56"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"8d2aa04f-779c-4dbd-a73f-ff84b1801d56"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763577634897}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"8d2aa04f-779c-4dbd-a73f-ff84b1801d56"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-review","visor.provider.type":"workflow"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"run-review","scope":"check","name":"run-review_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"fix-with-claude","visor.provider.type":"claude-code"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-review","visor.provider.type":"workflow"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":4,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"post-verified","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":4,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":4,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":4,"session_id":"3f39ecd9-b4d6-4023-a96f-38fdef516876"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763577634953},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763577634897}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a8619326-c940-45de-aae8-3a25d16e5057"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a8619326-c940-45de-aae8-3a25d16e5057"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a8619326-c940-45de-aae8-3a25d16e5057"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a8619326-c940-45de-aae8-3a25d16e5057"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a8619326-c940-45de-aae8-3a25d16e5057"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"a8619326-c940-45de-aae8-3a25d16e5057"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"dcea52d6-a832-4065-8e92-495111c57176"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"dcea52d6-a832-4065-8e92-495111c57176"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"dcea52d6-a832-4065-8e92-495111c57176"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763577634972}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bbd55cfd-b59f-41f3-8989-a01f324222d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bbd55cfd-b59f-41f3-8989-a01f324222d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bbd55cfd-b59f-41f3-8989-a01f324222d5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763577634974}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"readability","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"readability","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763577634974}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763577634976},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577634977},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763577634897},\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763577634953}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763577634986},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763577634897},\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763577634953},\"plan-commands\":{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763577634976},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577634977},\"history\":{\"ask\":[{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763577634897}],\"refine\":[{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763577634953}],\"plan-commands\":[{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763577634976}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577634977}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763577634986}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763577634897}],\"refine\":[{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763577634953}],\"plan-commands\":[{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763577634976}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577634977}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763577634986}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763577436 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1100010111910195\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-40-34-616Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"dcea52d6-a832-4065-8e92-495111c57176"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"dcea52d6-a832-4065-8e92-495111c57176"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"dcea52d6-a832-4065-8e92-495111c57176"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bbd55cfd-b59f-41f3-8989-a01f324222d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bbd55cfd-b59f-41f3-8989-a01f324222d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bbd55cfd-b59f-41f3-8989-a01f324222d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"bbd55cfd-b59f-41f3-8989-a01f324222d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"c31fc034-0e7b-4ada-84a0-a72f9886e90e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Create a CI job\",\"ts\":1763577635015}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"refine","scope":"check","name":"refine_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763577635024},\"refine\":{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763577635023}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"refine","scope":"check","name":"refine_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763577635032},\"refine\":{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763577635031}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763577635039},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763577635032}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635047},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635048},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763577635032},\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763577635039}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635055},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763577635032},\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763577635039},\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635047},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635048},\"history\":{\"ask\":[{\"text\":\"Create a CI job\",\"ts\":1763577635015},{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763577635024},{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763577635032}],\"refine\":[{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763577635023},{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763577635031},{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763577635039}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635047}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635048}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635055}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Create a CI job\",\"ts\":1763577635015},{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763577635024},{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763577635032}],\"refine\":[{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763577635023},{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763577635031},{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763577635039}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635047}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635048}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635055}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763577436 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1100010111910195\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-40-34-616Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":3,"session_id":"f31f15ab-5b57-4168-96a8-9bbb06245fa7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763577635066}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763577635079},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763577635066}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635087},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635087},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763577635066},\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763577635079}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635094},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763577635066},\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763577635079},\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635087},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635087},\"history\":{\"ask\":[{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763577635066}],\"refine\":[{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763577635079}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635087}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635087}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635094}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763577635066}],\"refine\":[{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763577635079}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635087}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635087}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763577635094}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763577436 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1100010111910195\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-40-34-616Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"cd9b1030-199a-4beb-ac6e-a40a537514d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763577635107}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635113},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763577635107}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635120},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635121},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763577635107},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635113}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635127},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763577635107},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635113},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635120},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635121},\"history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763577635107}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635113}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635120}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635121}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635127}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763577635107}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635113}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635120}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635121}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635127}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763577436 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1100010111910195\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-40-34-616Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763577635139},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635113},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635120},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635121},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635127},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635153},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763577635139},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635120},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635121},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635127},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763577635161},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635161},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763577635139},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635153},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635127},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635168},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763577635139},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635153},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763577635161},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635161},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\",\"history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763577635107},{\"text\":\"Verify app passes tests\",\"ts\":1763577635139}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635113},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635153}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635120},{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763577635161}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635121},{\"text\":\"yes\",\"ts\":1763577635161}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635127},{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635168}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763577635107},{\"text\":\"Verify app passes tests\",\"ts\":1763577635139}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635113},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635153}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635120},{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763577635161}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635121},{\"text\":\"yes\",\"ts\":1763577635161}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635127},{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635168}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763577436 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1100010111910195\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-40-34-616Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"d4dda32a-6fab-4823-acd4-0d4ec678dfc7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763577635179}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763577635185},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763577635179}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763577635191},\"ask-confirm\":{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763577635192},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763577635179},\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763577635185}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763577635198},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763577635179},\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763577635185},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763577635191},\"ask-confirm\":{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763577635192},\"history\":{\"ask\":[{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763577635179}],\"refine\":[{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763577635185}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763577635191}],\"ask-confirm\":[{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763577635192}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763577635198}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763577635179}],\"refine\":[{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763577635185}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763577635191}],\"ask-confirm\":[{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763577635192}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763577635198}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763577436 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1100010111910195\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-40-34-616Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"24052a26-4d3e-4509-b3bf-354909bfe9d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763577635208}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763577635214},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763577635208}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763577635221},\"ask-confirm\":{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763577635222},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763577635208},\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763577635214}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763577635229},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763577635208},\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763577635214},\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763577635221},\"ask-confirm\":{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763577635222},\"history\":{\"ask\":[{\"text\":\"Run lint and tests\",\"ts\":1763577635208}],\"refine\":[{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763577635214}],\"plan-commands\":[{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763577635221}],\"ask-confirm\":[{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763577635222}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763577635229}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Run lint and tests\",\"ts\":1763577635208}],\"refine\":[{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763577635214}],\"plan-commands\":[{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763577635221}],\"ask-confirm\":[{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763577635222}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763577635229}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763577436 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1100010111910195\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-40-34-616Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"649caf23-161a-46f7-8445-183add641d3e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763577635242}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763577635249},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763577635242}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763577635257},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763577635258},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763577635242},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763577635249}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763577635267},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763577635249},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763577635257},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763577635258},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763577635265}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763577635274},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763577635267},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763577635257},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763577635258},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763577635265}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763577635291},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635291},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763577635267},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763577635274},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763577635265}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763577635297},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763577635267},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763577635274},\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763577635291},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635291},\"history\":{\"ask\":[{\"text\":\"Set up lint and test checks\",\"ts\":1763577635242},{\"text\":\"Set up lint and test checks\",\"ts\":1763577635267}],\"refine\":[{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763577635249},{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763577635274}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763577635257},{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763577635291}],\"ask-confirm\":[{\"text\":\"No, add lint too\",\"ts\":1763577635258},{\"text\":\"yes\",\"ts\":1763577635291}],\"confirm-interpret\":[{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763577635265},{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763577635297}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Set up lint and test checks\",\"ts\":1763577635242},{\"text\":\"Set up lint and test checks\",\"ts\":1763577635267}],\"refine\":[{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763577635249},{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763577635274}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763577635257},{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763577635291}],\"ask-confirm\":[{\"text\":\"No, add lint too\",\"ts\":1763577635258},{\"text\":\"yes\",\"ts\":1763577635291}],\"confirm-interpret\":[{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763577635265},{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763577635297}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763577436 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1100010111910195\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-40-34-616Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"9cd4a6bb-adee-4e65-a1c0-fe544c863a83"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763577635307}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635314},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763577635307}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635320},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635321},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763577635307},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635314}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635327},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763577635307},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635314},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635320},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635321},\"history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763577635307}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635314}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635320}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635321}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635327}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763577635307}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635314}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635320}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635321}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635327}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763577436 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1100010111910195\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-40-34-616Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763577635336},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635314},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635320},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635321},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635327},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635343},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763577635336},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635320},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635321},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635327},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo ok\"],\"ts\":1763577635351},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635351},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763577635336},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635343},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635327},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763577635358},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763577635336},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635343},\"plan-commands\":{\"commands\":[\"echo ok\"],\"ts\":1763577635351},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763577635351},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\",\"history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763577635307},{\"text\":\"Verify app tests pass\",\"ts\":1763577635336}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635314},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635343}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635320},{\"commands\":[\"echo ok\"],\"ts\":1763577635351}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635321},{\"text\":\"yes\",\"ts\":1763577635351}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635327},{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763577635358}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763577635307},{\"text\":\"Verify app tests pass\",\"ts\":1763577635336}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635314},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763577635343}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635320},{\"commands\":[\"echo ok\"],\"ts\":1763577635351}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763577635321},{\"text\":\"yes\",\"ts\":1763577635351}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763577635327},{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763577635358}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763577436 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1100010111910195\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-40-34-616Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"41870da3-9772-481e-9895-dc15fa34cec3"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.output":"{\"issues\":[{\"file\":\"AI_RESPONSE\",\"line\":1,\"ruleId\":\"ai/raw_response\",\"message\":\"{\\\"text\\\":\\\"### Assistant Reply\\\",\\\"intent\\\":\\\"issue_triage\\\"}\",\"severity\":\"info\",\"category\":\"documentation\"}]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"912286d3-3b5d-4540-abcd-00c36e77289f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.output":"{\"text\":\"### Assistant Reply\",\"intent\":\"comment_reply\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"91a22e2e-9c12-4fa7-8920-f6170b207718"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"31d20697-dd13-4d09-8e3c-bdda0b5b5eb3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"31d20697-dd13-4d09-8e3c-bdda0b5b5eb3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"31d20697-dd13-4d09-8e3c-bdda0b5b5eb3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"31d20697-dd13-4d09-8e3c-bdda0b5b5eb3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"31d20697-dd13-4d09-8e3c-bdda0b5b5eb3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"31d20697-dd13-4d09-8e3c-bdda0b5b5eb3"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-issue-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"31d20697-dd13-4d09-8e3c-bdda0b5b5eb3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"31d20697-dd13-4d09-8e3c-bdda0b5b5eb3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"31d20697-dd13-4d09-8e3c-bdda0b5b5eb3"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763577636026}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763577636026}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763577636026}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763577636026}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"6922d322-4b93-45d8-a919-c5fb71861646"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"6a9295fb-b63b-4003-bb1b-29a02c1ac1f9"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"6a9295fb-b63b-4003-bb1b-29a02c1ac1f9"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"6a9295fb-b63b-4003-bb1b-29a02c1ac1f9"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6a9295fb-b63b-4003-bb1b-29a02c1ac1f9"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6a9295fb-b63b-4003-bb1b-29a02c1ac1f9"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"6a9295fb-b63b-4003-bb1b-29a02c1ac1f9"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"3807d6d9-3881-4be2-8068-cabf38d096c9"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"3807d6d9-3881-4be2-8068-cabf38d096c9"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"3807d6d9-3881-4be2-8068-cabf38d096c9"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"3807d6d9-3881-4be2-8068-cabf38d096c9"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"3807d6d9-3881-4be2-8068-cabf38d096c9"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"3807d6d9-3881-4be2-8068-cabf38d096c9"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763577636109}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763577636118},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763577636109}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763577636118},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763577636109}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763577636118},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763577636109}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763577636118},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763577636109}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"93bbe747-9cc3-4195-b94d-f45f194e920c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763577636635}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763577636635},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"04ec0dfb-a7ac-495f-b2da-398fa543a12f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763577636665}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763577636665},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763577636665},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763577636702},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763577636702},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"ee3be421-f510-4771-b8ad-5a3ab3efe961"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763577636745}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763577636745},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":1,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763577636745},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763577636745},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"}},{\"issues\":[],\"output\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763577636779},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"}},{\"issues\":[],\"output\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763577636779},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":1,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763577636779},\"validate-fact\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"},\"post-verified\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"b939604e-2157-4d4a-931f-fd2ef184280c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"b11f2ac5-1370-4294-abd9-486eab7d153c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"b11f2ac5-1370-4294-abd9-486eab7d153c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b11f2ac5-1370-4294-abd9-486eab7d153c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.output":"{\"text\":\"### Assistant Reply\",\"intent\":\"comment_reply\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b11f2ac5-1370-4294-abd9-486eab7d153c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b11f2ac5-1370-4294-abd9-486eab7d153c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"b11f2ac5-1370-4294-abd9-486eab7d153c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Opening issue with claim about defaults/visor.yaml\",\"intent\":\"issue_triage\",\"ts\":1763577637342},\"apply-issue-labels\":{\"issues\":[]}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Opening issue with claim about defaults/visor.yaml\",\"intent\":\"issue_triage\",\"ts\":1763577637342},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"0270ff54-2620-4a98-9319-b8f31b4ac5ab"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763577637360},\"apply-issue-labels\":{\"issues\":[]}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763577637360},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763577637360},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763577637378},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763577637378},\"apply-issue-labels\":{\"issues\":[]},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"0c54200a-0a94-44ba-b580-474b9cf51f6f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763577637420}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763577637420}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763577637420}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763577637420}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"d7625b24-6d01-4572-9ec6-08885e05e917"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"19b18ff7-177c-4fa9-bed4-130d9bcf45e2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"19b18ff7-177c-4fa9-bed4-130d9bcf45e2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"19b18ff7-177c-4fa9-bed4-130d9bcf45e2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19b18ff7-177c-4fa9-bed4-130d9bcf45e2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19b18ff7-177c-4fa9-bed4-130d9bcf45e2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"19b18ff7-177c-4fa9-bed4-130d9bcf45e2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview text\",\"tags\":{\"label\":\"bug\",\"review-effort\":3},\"ts\":1763577637982}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"security","scope":"check","name":"security_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19b18ff7-177c-4fa9-bed4-130d9bcf45e2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19b18ff7-177c-4fa9-bed4-130d9bcf45e2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"19b18ff7-177c-4fa9-bed4-130d9bcf45e2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"2de169f6-c619-4f53-ab4d-ffb8860487cf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"2de169f6-c619-4f53-ab4d-ffb8860487cf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"2de169f6-c619-4f53-ab4d-ffb8860487cf"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2de169f6-c619-4f53-ab4d-ffb8860487cf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"2de169f6-c619-4f53-ab4d-ffb8860487cf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"2de169f6-c619-4f53-ab4d-ffb8860487cf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763577638002}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.output":"{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763577638511},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763577638002}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763577638511},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763577638002}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763577638511},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763577638002}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763577638511},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763577638002}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"de0282bd-01d3-41d6-97f3-36981af7f116"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"85cb6652-3024-464a-bfd1-235e137b67c5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"85cb6652-3024-464a-bfd1-235e137b67c5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"85cb6652-3024-464a-bfd1-235e137b67c5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"85cb6652-3024-464a-bfd1-235e137b67c5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"85cb6652-3024-464a-bfd1-235e137b67c5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"85cb6652-3024-464a-bfd1-235e137b67c5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"85cb6652-3024-464a-bfd1-235e137b67c5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"85cb6652-3024-464a-bfd1-235e137b67c5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"85cb6652-3024-464a-bfd1-235e137b67c5"}}]}
