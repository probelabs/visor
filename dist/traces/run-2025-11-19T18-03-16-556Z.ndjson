{"name":"visor.run","attributes":{"started":true}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"38fde094-1fc6-42ee-9b81-af215da7887b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"1a314f53-ce03-4ec4-a6ce-0c99f1890c0e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"38fde094-1fc6-42ee-9b81-af215da7887b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"547894bb-f022-4dfb-bd4b-e811ad744714"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"1a314f53-ce03-4ec4-a6ce-0c99f1890c0e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"0b36f13c-c8a1-4a9d-8a4f-677089a3c095"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"38fde094-1fc6-42ee-9b81-af215da7887b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"547894bb-f022-4dfb-bd4b-e811ad744714"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"1a314f53-ce03-4ec4-a6ce-0c99f1890c0e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"0b36f13c-c8a1-4a9d-8a4f-677089a3c095"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-review","visor.provider.type":"workflow"}}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"547894bb-f022-4dfb-bd4b-e811ad744714"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0b36f13c-c8a1-4a9d-8a4f-677089a3c095"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"38fde094-1fc6-42ee-9b81-af215da7887b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"38fde094-1fc6-42ee-9b81-af215da7887b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"38fde094-1fc6-42ee-9b81-af215da7887b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"post-verified","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"38fde094-1fc6-42ee-9b81-af215da7887b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"38fde094-1fc6-42ee-9b81-af215da7887b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763575396799}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"38fde094-1fc6-42ee-9b81-af215da7887b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-review","visor.provider.type":"workflow"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"run-review","scope":"check","name":"run-review_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"fix-with-claude","visor.provider.type":"claude-code"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-review","visor.provider.type":"workflow"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":4,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"post-verified","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":4,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":4,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":4,"session_id":"eaaeadd8-c3ac-4f7c-b8b5-a6afb67914bc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763575396856},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763575396799}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1a314f53-ce03-4ec4-a6ce-0c99f1890c0e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1a314f53-ce03-4ec4-a6ce-0c99f1890c0e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"1a314f53-ce03-4ec4-a6ce-0c99f1890c0e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1a314f53-ce03-4ec4-a6ce-0c99f1890c0e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1a314f53-ce03-4ec4-a6ce-0c99f1890c0e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"1a314f53-ce03-4ec4-a6ce-0c99f1890c0e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"547894bb-f022-4dfb-bd4b-e811ad744714"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"547894bb-f022-4dfb-bd4b-e811ad744714"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"547894bb-f022-4dfb-bd4b-e811ad744714"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763575396881}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0b36f13c-c8a1-4a9d-8a4f-677089a3c095"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0b36f13c-c8a1-4a9d-8a4f-677089a3c095"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0b36f13c-c8a1-4a9d-8a4f-677089a3c095"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763575396883}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"readability","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"readability","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763575396883}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763575396886},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575396887},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763575396799},\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763575396856}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763575396905},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763575396799},\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763575396856},\"plan-commands\":{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763575396886},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575396887},\"history\":{\"ask\":[{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763575396799}],\"refine\":[{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763575396856}],\"plan-commands\":[{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763575396886}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575396887}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763575396905}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763575396799}],\"refine\":[{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763575396856}],\"plan-commands\":[{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763575396886}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575396887}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763575396905}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763575179 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1894549021725828\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-03-16-556Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"547894bb-f022-4dfb-bd4b-e811ad744714"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"547894bb-f022-4dfb-bd4b-e811ad744714"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"547894bb-f022-4dfb-bd4b-e811ad744714"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0b36f13c-c8a1-4a9d-8a4f-677089a3c095"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0b36f13c-c8a1-4a9d-8a4f-677089a3c095"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0b36f13c-c8a1-4a9d-8a4f-677089a3c095"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"0b36f13c-c8a1-4a9d-8a4f-677089a3c095"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"44a44a76-4e24-45c0-b04d-c362c61525d2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Create a CI job\",\"ts\":1763575396924}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"refine","scope":"check","name":"refine_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763575396936},\"refine\":{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763575396935}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"refine","scope":"check","name":"refine_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763575396946},\"refine\":{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763575396944}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763575396953},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763575396946}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575396963},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575396964},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763575396946},\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763575396953}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575396971},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763575396946},\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763575396953},\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575396963},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575396964},\"history\":{\"ask\":[{\"text\":\"Create a CI job\",\"ts\":1763575396924},{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763575396936},{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763575396946}],\"refine\":[{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763575396935},{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763575396944},{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763575396953}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575396963}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575396964}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575396971}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Create a CI job\",\"ts\":1763575396924},{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763575396936},{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763575396946}],\"refine\":[{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763575396935},{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763575396944},{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763575396953}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575396963}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575396964}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575396971}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763575179 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1894549021725828\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-03-16-556Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":3,"session_id":"06473653-1a45-449e-a75b-c4b5271ac68c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763575396992}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763575397004},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763575396992}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575397012},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397013},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763575396992},\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763575397004}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575397020},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763575396992},\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763575397004},\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575397012},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397013},\"history\":{\"ask\":[{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763575396992}],\"refine\":[{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763575397004}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575397012}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575397013}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575397020}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763575396992}],\"refine\":[{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763575397004}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575397012}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575397013}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763575397020}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763575179 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1894549021725828\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-03-16-556Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"8dac351b-9d97-44dc-87dc-a03bca4d1b10"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763575397040}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397048},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763575397040}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397057},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397058},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763575397040},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397048}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397067},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763575397040},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397048},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397057},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397058},\"history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763575397040}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397048}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397057}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575397058}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397067}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763575397040}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397048}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397057}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575397058}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397067}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763575179 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1894549021725828\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-03-16-556Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763575397082},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397048},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397057},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397058},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397067},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397088},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763575397082},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397057},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397058},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397067},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763575397096},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397097},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763575397082},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397088},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397067},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397104},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763575397082},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397088},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763575397096},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397097},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\",\"history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763575397040},{\"text\":\"Verify app passes tests\",\"ts\":1763575397082}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397048},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397088}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397057},{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763575397096}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575397058},{\"text\":\"yes\",\"ts\":1763575397097}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397067},{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397104}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763575397040},{\"text\":\"Verify app passes tests\",\"ts\":1763575397082}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397048},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397088}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397057},{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763575397096}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575397058},{\"text\":\"yes\",\"ts\":1763575397097}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397067},{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397104}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763575179 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1894549021725828\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-03-16-556Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"81beff50-f3f2-4c76-a552-d8184f6364ad"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763575397115}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763575397122},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763575397115}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763575397128},\"ask-confirm\":{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763575397129},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763575397115},\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763575397122}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763575397135},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763575397115},\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763575397122},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763575397128},\"ask-confirm\":{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763575397129},\"history\":{\"ask\":[{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763575397115}],\"refine\":[{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763575397122}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763575397128}],\"ask-confirm\":[{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763575397129}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763575397135}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763575397115}],\"refine\":[{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763575397122}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763575397128}],\"ask-confirm\":[{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763575397129}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763575397135}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763575179 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1894549021725828\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-03-16-556Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"e8335a94-a71c-4538-a104-c76e6dde6c9b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763575397154}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763575397160},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763575397154}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763575397167},\"ask-confirm\":{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763575397167},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763575397154},\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763575397160}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763575397173},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763575397154},\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763575397160},\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763575397167},\"ask-confirm\":{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763575397167},\"history\":{\"ask\":[{\"text\":\"Run lint and tests\",\"ts\":1763575397154}],\"refine\":[{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763575397160}],\"plan-commands\":[{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763575397167}],\"ask-confirm\":[{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763575397167}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763575397173}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Run lint and tests\",\"ts\":1763575397154}],\"refine\":[{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763575397160}],\"plan-commands\":[{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763575397167}],\"ask-confirm\":[{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763575397167}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763575397173}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763575179 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1894549021725828\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-03-16-556Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"40df2186-60c8-42f1-876d-4c3ebb97943d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763575397185}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763575397191},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763575397185}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763575397198},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763575397199},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763575397185},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763575397191}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763575397206},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763575397191},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763575397198},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763575397199},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763575397205}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763575397220},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763575397206},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763575397198},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763575397199},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763575397205}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763575397226},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397227},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763575397206},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763575397220},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763575397205}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763575397233},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763575397206},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763575397220},\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763575397226},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397227},\"history\":{\"ask\":[{\"text\":\"Set up lint and test checks\",\"ts\":1763575397185},{\"text\":\"Set up lint and test checks\",\"ts\":1763575397206}],\"refine\":[{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763575397191},{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763575397220}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763575397198},{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763575397226}],\"ask-confirm\":[{\"text\":\"No, add lint too\",\"ts\":1763575397199},{\"text\":\"yes\",\"ts\":1763575397227}],\"confirm-interpret\":[{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763575397205},{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763575397233}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Set up lint and test checks\",\"ts\":1763575397185},{\"text\":\"Set up lint and test checks\",\"ts\":1763575397206}],\"refine\":[{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763575397191},{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763575397220}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763575397198},{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763575397226}],\"ask-confirm\":[{\"text\":\"No, add lint too\",\"ts\":1763575397199},{\"text\":\"yes\",\"ts\":1763575397227}],\"confirm-interpret\":[{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763575397205},{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763575397233}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763575179 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1894549021725828\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-03-16-556Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"19bfb987-576a-46b7-8200-186da8e7c830"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763575397244}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397250},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763575397244}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397257},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397257},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763575397244},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397250}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397263},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763575397244},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397250},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397257},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397257},\"history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763575397244}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397250}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397257}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575397257}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397263}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763575397244}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397250}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397257}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575397257}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397263}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763575179 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1894549021725828\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-03-16-556Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763575397272},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397250},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397257},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397257},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397263},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397278},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763575397272},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397257},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397257},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397263},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo ok\"],\"ts\":1763575397284},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397285},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763575397272},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397278},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397263},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763575397292},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763575397272},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397278},\"plan-commands\":{\"commands\":[\"echo ok\"],\"ts\":1763575397284},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763575397285},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\",\"history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763575397244},{\"text\":\"Verify app tests pass\",\"ts\":1763575397272}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397250},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397278}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397257},{\"commands\":[\"echo ok\"],\"ts\":1763575397284}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575397257},{\"text\":\"yes\",\"ts\":1763575397285}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397263},{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763575397292}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763575397244},{\"text\":\"Verify app tests pass\",\"ts\":1763575397272}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397250},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763575397278}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397257},{\"commands\":[\"echo ok\"],\"ts\":1763575397284}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763575397257},{\"text\":\"yes\",\"ts\":1763575397285}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763575397263},{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763575397292}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763575179 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"1894549021725828\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"50e238fc1607331beeb0f5003cee0512a2a429a4\",\"VISOR_COMMIT_SHORT\":\"50e238fc\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T18-03-16-556Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"095cddb7-fe03-47eb-ab43-fd513d20a554"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.output":"{\"issues\":[{\"file\":\"AI_RESPONSE\",\"line\":1,\"ruleId\":\"ai/raw_response\",\"message\":\"{\\\"text\\\":\\\"### Assistant Reply\\\",\\\"intent\\\":\\\"issue_triage\\\"}\",\"severity\":\"info\",\"category\":\"documentation\"}]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"667bb689-f715-458b-83b1-605350510743"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.output":"{\"text\":\"### Assistant Reply\",\"intent\":\"comment_reply\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"59792620-1be6-4f89-bbcf-55c03f72b616"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"ecc2c67e-454a-46e3-a37b-aa2565792911"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"ecc2c67e-454a-46e3-a37b-aa2565792911"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ecc2c67e-454a-46e3-a37b-aa2565792911"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ecc2c67e-454a-46e3-a37b-aa2565792911"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ecc2c67e-454a-46e3-a37b-aa2565792911"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"ecc2c67e-454a-46e3-a37b-aa2565792911"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-issue-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ecc2c67e-454a-46e3-a37b-aa2565792911"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"ecc2c67e-454a-46e3-a37b-aa2565792911"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"ecc2c67e-454a-46e3-a37b-aa2565792911"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763575397935}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763575397935}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763575397935}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763575397935}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"bc67d862-b272-44ec-a8b3-47999b0bf805"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"e4a9ad52-20cd-450c-810a-64c8e33670d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"e4a9ad52-20cd-450c-810a-64c8e33670d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e4a9ad52-20cd-450c-810a-64c8e33670d5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e4a9ad52-20cd-450c-810a-64c8e33670d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e4a9ad52-20cd-450c-810a-64c8e33670d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"e4a9ad52-20cd-450c-810a-64c8e33670d5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"a318b649-68eb-418e-a153-4e40f5d50a20"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"a318b649-68eb-418e-a153-4e40f5d50a20"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a318b649-68eb-418e-a153-4e40f5d50a20"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a318b649-68eb-418e-a153-4e40f5d50a20"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a318b649-68eb-418e-a153-4e40f5d50a20"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"a318b649-68eb-418e-a153-4e40f5d50a20"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763575397993}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763575398001},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763575397993}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763575398001},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763575397993}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763575398001},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763575397993}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763575398001},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763575397993}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"5f6d60d1-3e01-4c83-b3ee-439d23d1b5da"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763575398517}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763575398517},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"0cd8f6ec-bb13-4e26-b880-a635c46246a2"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763575398551}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763575398551},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763575398551},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763575398589},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763575398589},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"0d2b6e2c-f0ba-419c-a6ce-fa298b78c225"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763575398628}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763575398628},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":1,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763575398628},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763575398628},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"}},{\"issues\":[],\"output\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763575398659},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"}},{\"issues\":[],\"output\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763575398659},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":1,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763575398659},\"validate-fact\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"},\"post-verified\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"d5dc31bb-d678-48d6-b081-b07ba2ea3803"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"e35179f6-34ff-4dce-aa32-a893393fd796"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"e35179f6-34ff-4dce-aa32-a893393fd796"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e35179f6-34ff-4dce-aa32-a893393fd796"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.output":"{\"text\":\"### Assistant Reply\",\"intent\":\"comment_reply\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e35179f6-34ff-4dce-aa32-a893393fd796"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e35179f6-34ff-4dce-aa32-a893393fd796"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"e35179f6-34ff-4dce-aa32-a893393fd796"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Opening issue with claim about defaults/visor.yaml\",\"intent\":\"issue_triage\",\"ts\":1763575399218},\"apply-issue-labels\":{\"issues\":[]}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Opening issue with claim about defaults/visor.yaml\",\"intent\":\"issue_triage\",\"ts\":1763575399218},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"1775a29b-5789-47da-8cc4-1c5250e13b5e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763575399242},\"apply-issue-labels\":{\"issues\":[]}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763575399242},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763575399242},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763575399261},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763575399261},\"apply-issue-labels\":{\"issues\":[]},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"78ad6970-0044-47b6-b724-4fa355780a6d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763575399303}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763575399303}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763575399303}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763575399303}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"01052db1-2efd-4014-bbae-51f241298ef7"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"b53bda4e-7c34-4f62-b099-37cc122c7e24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"b53bda4e-7c34-4f62-b099-37cc122c7e24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b53bda4e-7c34-4f62-b099-37cc122c7e24"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b53bda4e-7c34-4f62-b099-37cc122c7e24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b53bda4e-7c34-4f62-b099-37cc122c7e24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b53bda4e-7c34-4f62-b099-37cc122c7e24"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview text\",\"tags\":{\"label\":\"bug\",\"review-effort\":3},\"ts\":1763575399852}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"security","scope":"check","name":"security_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b53bda4e-7c34-4f62-b099-37cc122c7e24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b53bda4e-7c34-4f62-b099-37cc122c7e24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"b53bda4e-7c34-4f62-b099-37cc122c7e24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"4f8dc364-5f1f-4ada-9a7a-ac4b01494a11"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"4f8dc364-5f1f-4ada-9a7a-ac4b01494a11"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"4f8dc364-5f1f-4ada-9a7a-ac4b01494a11"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"4f8dc364-5f1f-4ada-9a7a-ac4b01494a11"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"4f8dc364-5f1f-4ada-9a7a-ac4b01494a11"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"4f8dc364-5f1f-4ada-9a7a-ac4b01494a11"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763575399878}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.output":"{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763575400387},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763575399878}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763575400387},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763575399878}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763575400387},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763575399878}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763575400387},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763575399878}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"551654fa-c822-4700-a69e-2bc982907b64"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"7b912f52-b682-4f1d-80ec-99b92cb352ce"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"7b912f52-b682-4f1d-80ec-99b92cb352ce"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"7b912f52-b682-4f1d-80ec-99b92cb352ce"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"7b912f52-b682-4f1d-80ec-99b92cb352ce"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"7b912f52-b682-4f1d-80ec-99b92cb352ce"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"7b912f52-b682-4f1d-80ec-99b92cb352ce"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"7b912f52-b682-4f1d-80ec-99b92cb352ce"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"7b912f52-b682-4f1d-80ec-99b92cb352ce"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"7b912f52-b682-4f1d-80ec-99b92cb352ce"}}]}
