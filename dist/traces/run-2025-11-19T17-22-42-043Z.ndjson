{"name":"visor.run","attributes":{"started":true}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"9c52aeaf-48b0-4aaa-b2e3-aa3d8a009390"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"67585845-1712-494d-9e1c-c7c7d7be393e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"9c52aeaf-48b0-4aaa-b2e3-aa3d8a009390"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"9ec74042-cada-4326-96e2-0e4f1ed89648"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"67585845-1712-494d-9e1c-c7c7d7be393e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"1aa75de1-60f8-4e9d-8418-ee153b62245a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9c52aeaf-48b0-4aaa-b2e3-aa3d8a009390"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"9ec74042-cada-4326-96e2-0e4f1ed89648"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"67585845-1712-494d-9e1c-c7c7d7be393e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"1aa75de1-60f8-4e9d-8418-ee153b62245a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-review","visor.provider.type":"workflow"}}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9ec74042-cada-4326-96e2-0e4f1ed89648"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"1aa75de1-60f8-4e9d-8418-ee153b62245a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9c52aeaf-48b0-4aaa-b2e3-aa3d8a009390"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9c52aeaf-48b0-4aaa-b2e3-aa3d8a009390"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"9c52aeaf-48b0-4aaa-b2e3-aa3d8a009390"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"post-verified","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9c52aeaf-48b0-4aaa-b2e3-aa3d8a009390"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"9c52aeaf-48b0-4aaa-b2e3-aa3d8a009390"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763572962277}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"9c52aeaf-48b0-4aaa-b2e3-aa3d8a009390"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-review","visor.provider.type":"workflow"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"run-review","scope":"check","name":"run-review_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"run-review","scope":"check","name":"run-review_fail_if","expression":"(output?.hasErrors === true) || ((output?.issues?.length ?? 0) > 0)","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"fix-with-claude","visor.provider.type":"claude-code"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-review","visor.provider.type":"workflow"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":4,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"post-verified","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":4,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":4,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":4,"session_id":"60681f98-65aa-416c-8a14-dc9133a43a2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763572962356},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763572962277}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"67585845-1712-494d-9e1c-c7c7d7be393e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"67585845-1712-494d-9e1c-c7c7d7be393e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"67585845-1712-494d-9e1c-c7c7d7be393e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"67585845-1712-494d-9e1c-c7c7d7be393e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"67585845-1712-494d-9e1c-c7c7d7be393e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"67585845-1712-494d-9e1c-c7c7d7be393e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9ec74042-cada-4326-96e2-0e4f1ed89648"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9ec74042-cada-4326-96e2-0e4f1ed89648"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"9ec74042-cada-4326-96e2-0e4f1ed89648"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763572962394}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1aa75de1-60f8-4e9d-8418-ee153b62245a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1aa75de1-60f8-4e9d-8418-ee153b62245a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"1aa75de1-60f8-4e9d-8418-ee153b62245a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763572962403}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"readability","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"readability","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763572962403}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763572962408},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962409},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763572962277},\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763572962356}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763572962420},\"ask\":{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763572962277},\"refine\":{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763572962356},\"plan-commands\":{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763572962408},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962409},\"history\":{\"ask\":[{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763572962277}],\"refine\":[{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763572962356}],\"plan-commands\":[{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763572962408}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962409}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763572962420}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Build a small Node CLI that prints \\\"hello\\\"\",\"ts\":1763572962277}],\"refine\":[{\"refined\":true,\"text\":\"Create a Node.js CLI (using Node >=18) that prints 'hello' when run; include usage example and exit code 0.\",\"ts\":1763572962356}],\"plan-commands\":[{\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763572962408}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962409}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo hello-build\",\"echo hello-lint\",\"echo hello-test\"],\"ts\":1763572962420}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763572765 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"2837180523177131\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"0d64557228e61114215cc8d4252806626bad3605\",\"VISOR_COMMIT_SHORT\":\"0d645572\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T17-22-42-043Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9ec74042-cada-4326-96e2-0e4f1ed89648"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"9ec74042-cada-4326-96e2-0e4f1ed89648"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"9ec74042-cada-4326-96e2-0e4f1ed89648"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1aa75de1-60f8-4e9d-8418-ee153b62245a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1aa75de1-60f8-4e9d-8418-ee153b62245a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1aa75de1-60f8-4e9d-8418-ee153b62245a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"1aa75de1-60f8-4e9d-8418-ee153b62245a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"207aa8f7-db79-4c3b-afa7-b5e32105fbcc"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Create a CI job\",\"ts\":1763572962454}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"refine","scope":"check","name":"refine_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763572962466},\"refine\":{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763572962464}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"refine","scope":"check","name":"refine_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"refine","scope":"check","name":"refine_fail_if","expression":"output['refined'] !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763572962480},\"refine\":{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763572962478}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763572962499},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763572962480}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962519},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962520},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763572962480},\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763572962499}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962528},\"ask\":{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763572962480},\"refine\":{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763572962499},\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962519},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962520},\"history\":{\"ask\":[{\"text\":\"Create a CI job\",\"ts\":1763572962454},{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763572962466},{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763572962480}],\"refine\":[{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763572962464},{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763572962478},{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763572962499}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962519}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962520}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962528}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Create a CI job\",\"ts\":1763572962454},{\"text\":\"GitHub Actions; run on push to main\",\"ts\":1763572962466},{\"text\":\"Use Node 18 and npm ci + npm test\",\"ts\":1763572962480}],\"refine\":[{\"refined\":false,\"ask_user\":true,\"text\":\"Which CI platform and trigger conditions?\",\"ts\":1763572962464},{\"refined\":false,\"ask_user\":true,\"text\":\"What Node version and commands should run?\",\"ts\":1763572962478},{\"refined\":true,\"text\":\"Set up GitHub Actions workflow: on push to main, use Node 18.x, cache npm, run npm ci && npm test.\",\"ts\":1763572962499}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962519}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962520}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962528}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763572765 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"2837180523177131\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"0d64557228e61114215cc8d4252806626bad3605\",\"VISOR_COMMIT_SHORT\":\"0d645572\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T17-22-42-043Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":3,"session_id":"fabc3d29-37a2-4549-afc0-4fdeefabedff"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763572962541}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763572962548},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763572962541}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962557},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962558},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763572962541},\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763572962548}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962566},\"ask\":{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763572962541},\"refine\":{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763572962548},\"plan-commands\":{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962557},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962558},\"history\":{\"ask\":[{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763572962541}],\"refine\":[{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763572962548}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962557}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962558}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962566}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Add CI to run build, lint, and tests\",\"ts\":1763572962541}],\"refine\":[{\"refined\":true,\"text\":\"Ensure project builds, lints, and tests pass via CI\",\"ts\":1763572962548}],\"plan-commands\":[{\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962557}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962558}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"echo build\",\"echo lint\",\"echo test\"],\"ts\":1763572962566}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763572765 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"2837180523177131\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"0d64557228e61114215cc8d4252806626bad3605\",\"VISOR_COMMIT_SHORT\":\"0d645572\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T17-22-42-043Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"62e0b263-ab07-4ffb-9525-73762b656d8d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763572962583}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962590},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763572962583}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962599},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962599},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763572962583},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962590}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962606},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763572962583},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962590},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962599},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962599},\"history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763572962583}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962590}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962599}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962599}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962606}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763572962583}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962590}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962599}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962599}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962606}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763572765 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"2837180523177131\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"0d64557228e61114215cc8d4252806626bad3605\",\"VISOR_COMMIT_SHORT\":\"0d645572\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T17-22-42-043Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763572962615},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962590},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962599},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962599},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962606},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962622},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763572962615},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962599},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962599},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962606},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763572962628},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962629},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763572962615},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962622},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962606},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962636},\"ask\":{\"text\":\"Verify app passes tests\",\"ts\":1763572962615},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962622},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763572962628},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962629},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\",\"history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763572962583},{\"text\":\"Verify app passes tests\",\"ts\":1763572962615}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962590},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962622}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962599},{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763572962628}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962599},{\"text\":\"yes\",\"ts\":1763572962629}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962606},{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962636}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app passes tests\",\"ts\":1763572962583},{\"text\":\"Verify app passes tests\",\"ts\":1763572962615}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962590},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962622}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962599},{\"commands\":[\"node -e \\\"process.exit(0)\\\"\"],\"ts\":1763572962628}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962599},{\"text\":\"yes\",\"ts\":1763572962629}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962606},{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962636}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763572765 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"2837180523177131\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"0d64557228e61114215cc8d4252806626bad3605\",\"VISOR_COMMIT_SHORT\":\"0d645572\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T17-22-42-043Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"356fda17-cb22-4ab2-ab72-71490395e63c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763572962647}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763572962653},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763572962647}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763572962661},\"ask-confirm\":{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763572962661},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763572962647},\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763572962653}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763572962667},\"ask\":{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763572962647},\"refine\":{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763572962653},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763572962661},\"ask-confirm\":{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763572962661},\"history\":{\"ask\":[{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763572962647}],\"refine\":[{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763572962653}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763572962661}],\"ask-confirm\":[{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763572962661}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763572962667}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Make sure project installs deps and runs tests\",\"ts\":1763572962647}],\"refine\":[{\"refined\":true,\"text\":\"Install dependencies and run tests\",\"ts\":1763572962653}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763572962661}],\"ask-confirm\":[{\"text\":\"[\\\"npm ci\\\",\\\"npm test\\\"]\",\"ts\":1763572962661}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm ci\",\"npm test\"],\"ts\":1763572962667}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763572765 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"2837180523177131\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"0d64557228e61114215cc8d4252806626bad3605\",\"VISOR_COMMIT_SHORT\":\"0d645572\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T17-22-42-043Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"309d2755-d139-4565-8c42-35534f2bf92a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763572962677}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763572962683},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763572962677}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763572962689},\"ask-confirm\":{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763572962690},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763572962677},\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763572962683}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763572962695},\"ask\":{\"text\":\"Run lint and tests\",\"ts\":1763572962677},\"refine\":{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763572962683},\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763572962689},\"ask-confirm\":{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763572962690},\"history\":{\"ask\":[{\"text\":\"Run lint and tests\",\"ts\":1763572962677}],\"refine\":[{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763572962683}],\"plan-commands\":[{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763572962689}],\"ask-confirm\":[{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763572962690}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763572962695}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Run lint and tests\",\"ts\":1763572962677}],\"refine\":[{\"refined\":true,\"text\":\"Run lint and tests\",\"ts\":1763572962683}],\"plan-commands\":[{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763572962689}],\"ask-confirm\":[{\"text\":\"npm test\\\\nnpm test\\\\n  npm run lint  \\n\",\"ts\":1763572962690}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"npm test\",\"npm run lint\"],\"ts\":1763572962695}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763572765 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"2837180523177131\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"0d64557228e61114215cc8d4252806626bad3605\",\"VISOR_COMMIT_SHORT\":\"0d645572\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T17-22-42-043Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"5daa10de-23e7-4ec5-8cf8-ace9b222470a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763572962705}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763572962712},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763572962705}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763572962720},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763572962720},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763572962705},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763572962712}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"confirm-interpret","scope":"check","name":"confirm-interpret_fail_if","expression":"output && output.proceed !== true","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763572962727},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763572962712},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763572962720},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763572962720},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763572962726}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763572962732},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763572962727},\"plan-commands\":{\"commands\":[\"npm test\"],\"ts\":1763572962720},\"ask-confirm\":{\"text\":\"No, add lint too\",\"ts\":1763572962720},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763572962726}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763572962738},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962739},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763572962727},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763572962732},\"confirm-interpret\":{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763572962726}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763572962745},\"ask\":{\"text\":\"Set up lint and test checks\",\"ts\":1763572962727},\"refine\":{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763572962732},\"plan-commands\":{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763572962738},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962739},\"history\":{\"ask\":[{\"text\":\"Set up lint and test checks\",\"ts\":1763572962705},{\"text\":\"Set up lint and test checks\",\"ts\":1763572962727}],\"refine\":[{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763572962712},{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763572962732}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763572962720},{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763572962738}],\"ask-confirm\":[{\"text\":\"No, add lint too\",\"ts\":1763572962720},{\"text\":\"yes\",\"ts\":1763572962739}],\"confirm-interpret\":[{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763572962726},{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763572962745}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Set up lint and test checks\",\"ts\":1763572962705},{\"text\":\"Set up lint and test checks\",\"ts\":1763572962727}],\"refine\":[{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763572962712},{\"refined\":true,\"text\":\"Ensure lint and tests run\",\"ts\":1763572962732}],\"plan-commands\":[{\"commands\":[\"npm test\"],\"ts\":1763572962720},{\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763572962738}],\"ask-confirm\":[{\"text\":\"No, add lint too\",\"ts\":1763572962720},{\"text\":\"yes\",\"ts\":1763572962739}],\"confirm-interpret\":[{\"proceed\":false,\"reason\":\"needs lint\",\"ts\":1763572962726},{\"proceed\":true,\"commands\":[\"npm run lint\",\"npm test\"],\"ts\":1763572962745}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763572765 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"2837180523177131\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"0d64557228e61114215cc8d4252806626bad3605\",\"VISOR_COMMIT_SHORT\":\"0d645572\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T17-22-42-043Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"50b512a6-f976-4087-aaac-aa5f4be26c6b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763572962755}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962760},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763572962755}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962767},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962767},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763572962755},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962760}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962773},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763572962755},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962760},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962767},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962767},\"history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763572962755}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962760}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962767}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962767}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962773}]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763572962755}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962760}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962767}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962767}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962773}]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763572765 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"2837180523177131\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"0d64557228e61114215cc8d4252806626bad3605\",\"VISOR_COMMIT_SHORT\":\"0d645572\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T17-22-42-043Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"refine","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"refine","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763572962783},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962760},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962767},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962767},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962773},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"plan-commands","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"plan-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962788},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763572962783},\"plan-commands\":{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962767},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962767},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962773},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"ask-confirm","visor.provider.type":"human-input"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"confirm-interpret","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"confirm-interpret","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"plan-commands\":{\"commands\":[\"echo ok\"],\"ts\":1763572962794},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962795},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763572962783},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962788},\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962773},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"run-commands","visor.provider.type":"command"}}
{"name":"visor.check","attributes":{"visor.check.id":"run-commands","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"fileCount\":0,\"outputs\":{\"confirm-interpret\":{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763572962800},\"ask\":{\"text\":\"Verify app tests pass\",\"ts\":1763572962783},\"refine\":{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962788},\"plan-commands\":{\"commands\":[\"echo ok\"],\"ts\":1763572962794},\"ask-confirm\":{\"text\":\"yes\",\"ts\":1763572962795},\"run-commands\":\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\",\"history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763572962755},{\"text\":\"Verify app tests pass\",\"ts\":1763572962783}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962760},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962788}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962767},{\"commands\":[\"echo ok\"],\"ts\":1763572962794}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962767},{\"text\":\"yes\",\"ts\":1763572962795}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962773},{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763572962800}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]}},\"outputs_history\":{\"ask\":[{\"text\":\"Verify app tests pass\",\"ts\":1763572962755},{\"text\":\"Verify app tests pass\",\"ts\":1763572962783}],\"refine\":[{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962760},{\"refined\":true,\"text\":\"Run tests to verify app correctness\",\"ts\":1763572962788}],\"plan-commands\":[{\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962767},{\"commands\":[\"echo ok\"],\"ts\":1763572962794}],\"ask-confirm\":[{\"text\":\"yes\",\"ts\":1763572962767},{\"text\":\"yes\",\"ts\":1763572962795}],\"confirm-interpret\":[{\"proceed\":true,\"commands\":[\"node -e \\\"process.exit(1)\\\"\"],\"ts\":1763572962773},{\"proceed\":true,\"commands\":[\"echo ok\"],\"ts\":1763572962800}],\"run-commands\":[\"{\\\"failed\\\":1,\\\"results\\\":[{\\\"cmd\\\":\\\"node -e \\\\\\\\\\\"process.exit(1)\\\\\\\\\\\"\\\",\\\"code\\\":1,\\\"stderr\\\":\\\"fail\\\"}]}\"]},\"outputs_history_stage\":{},\"outputs_raw\":{},\"inputs\":{},\"env\":{\"SHELL\":\"/usr/bin/bash\",\"npm_command\":\"run\",\"npm_config_userconfig\":\"/home/buger/.npmrc\",\"COLORTERM\":\"truecolor\",\"npm_config_cache\":\"/home/buger/.npm\",\"ZELLIJ_SESSION_NAME\":\"friendly-horse\",\"NODE\":\"/usr/bin/node\",\"npm_package_bin_visor\":\"dist/index.js\",\"COLOR\":\"0\",\"npm_config_local_prefix\":\"/home/buger/projects/visor2\",\"npm_config_globalconfig\":\"/etc/npmrc\",\"EDITOR\":\"nvim\",\"PWD\":\"/home/buger/projects/visor2\",\"LOGNAME\":\"buger\",\"ZELLIJ_PANE_ID\":\"38\",\"XDG_SESSION_TYPE\":\"tty\",\"npm_config_init_module\":\"/home/buger/.npm-init.js\",\"CODEX_MANAGED_BY_NPM\":\"1\",\"_\":\"/usr/bin/node\",\"GIT_AUTHOR_DATE\":\"@1763572765 +0000\",\"MOTD_SHOWN\":\"pam\",\"GIT_EXEC_PATH\":\"/usr/lib/git-core\",\"HOME\":\"/home/buger\",\"LANG\":\"en_US.UTF-8\",\"npm_package_version\":\"0.1.42\",\"STARSHIP_SHELL\":\"bash\",\"WAYLAND_DISPLAY\":\"wayland-1\",\"__MISE_DIFF\":\"eAFrXpyfk9KwOC+1vGFJQWJJxgQASssINA\",\"SSH_CONNECTION\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 fe80::7a55:36ff:fe01:cdfe%enp1s0 22\",\"BAT_THEME\":\"ansi\",\"GIT_AUTHOR_EMAIL\":\"leonsbox@gmail.com\",\"INIT_CWD\":\"/home/buger/projects/visor2\",\"STARSHIP_SESSION_KEY\":\"2837180523177131\",\"__MISE_ORIG_PATH\":\"./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_lifecycle_script\":\"node dist/index.js test --progress compact\",\"npm_config_npm_version\":\"11.6.0\",\"XDG_SESSION_CLASS\":\"user\",\"TERM\":\"xterm-256color\",\"npm_package_name\":\"@probelabs/visor\",\"npm_config_prefix\":\"/usr\",\"USER\":\"buger\",\"SUDO_EDITOR\":\"nvim\",\"__MISE_SESSION\":\"eAFrX5OTn5iSmhJfkp+fUzxhHZSXnJ+XlplePPGmin5Gfm6qflJpemqRvh5EWD83szhVH8LWK8nPzVkDYccXJJZkFE9YnJpX1rA4JbNoN7LegqL8rNTkkmL9sszi/CKjNal5ZfFliUXxGYnFGRuSjC0NU9NMDZLMDZMNTS3M1uYklqQWl8SXFqQklqQeEWCAA8aZJj5KcwGShkTR\",\"DISPLAY\":\":0\",\"npm_lifecycle_event\":\"test:yaml\",\"SHLVL\":\"4\",\"GIT_EDITOR\":\":\",\"XDG_SESSION_ID\":\"4\",\"npm_config_user_agent\":\"npm/11.6.0 node/v24.7.0 linux x64 workspaces/false\",\"KUBECONFIG\":\"/home/buger/.kube/config\",\"npm_execpath\":\"/usr/lib/node_modules/npm/bin/npm-cli.js\",\"XDG_RUNTIME_DIR\":\"/run/user/1000\",\"SSH_CLIENT\":\"fe80::c69:48fa:a726:c61e%enp1s0 63348 22\",\"GOOGLE_API_KEY\":\"AIzaSyBqWp9Ent9-31GQOI8oAUPW6eGY5PMQHQM\",\"DEBUGINFOD_URLS\":\"https://debuginfod.archlinux.org \",\"npm_package_json\":\"/home/buger/projects/visor2/package.json\",\"MISE_SHELL\":\"bash\",\"GIT_AUTHOR_NAME\":\"Leonid Bugaev\",\"npm_config_noproxy\":\"\",\"PATH\":\"/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/buger/projects/visor2/node_modules/.bin:/home/buger/projects/node_modules/.bin:/home/buger/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:node_modules/.bin:/usr/lib/git-core:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/tmp/.tmpXgttmc:/usr/lib/node_modules/@openai/codex/vendor/x86_64-unknown-linux-musl/path:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/home/buger/.turso:/home/buger/.cargo/bin:/home/buger/.local/bin:./bin:/home/buger/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl\",\"npm_config_node_gyp\":\"/usr/lib/node_modules/node-gyp/bin/node-gyp.js\",\"ZELLIJ\":\"0\",\"DBUS_SESSION_BUS_ADDRESS\":\"unix:path=/run/user/1000/bus\",\"npm_config_global_prefix\":\"/usr\",\"MAIL\":\"/var/spool/mail/buger\",\"SSH_TTY\":\"/dev/pts/0\",\"npm_node_execpath\":\"/usr/bin/node\",\"VISOR_VERSION\":\"0.1.42\",\"PROBE_VERSION\":\"0.6.0-rc166\",\"VISOR_COMMIT_SHA\":\"0d64557228e61114215cc8d4252806626bad3605\",\"VISOR_COMMIT_SHORT\":\"0d645572\",\"VISOR_FALLBACK_TRACE_FILE\":\"/home/buger/projects/visor2/output/traces/run-2025-11-19T17-22-42-043Z.ndjson\",\"VISOR_OUTPUT_FORMAT\":\"table\",\"VISOR_DEBUG\":\"false\",\"VISOR_STRICT_ERRORS\":\"true\",\"GITHUB_REPOSITORY\":\"owner/repo\"}}"},"events":[{"name":"check.started"},{"name":"check.completed"}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"finish","visor.provider.type":"log"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"bfa3e5c2-ed3d-4d06-aa8d-6a72626bc85e"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.output":"{\"issues\":[{\"file\":\"AI_RESPONSE\",\"line\":1,\"ruleId\":\"ai/raw_response\",\"message\":\"{\\\"text\\\":\\\"### Assistant Reply\\\",\\\"intent\\\":\\\"issue_triage\\\"}\",\"severity\":\"info\",\"category\":\"documentation\"}]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"cd7dc348-0b95-43fb-a206-fcf620a6ccae"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.output":"{\"text\":\"### Assistant Reply\",\"intent\":\"comment_reply\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"a1285348-9112-410c-9ead-11c577fea11e"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"fd8192ed-329b-4f60-a85a-905fda7f3c24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"fd8192ed-329b-4f60-a85a-905fda7f3c24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"fd8192ed-329b-4f60-a85a-905fda7f3c24"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"fd8192ed-329b-4f60-a85a-905fda7f3c24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"fd8192ed-329b-4f60-a85a-905fda7f3c24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"fd8192ed-329b-4f60-a85a-905fda7f3c24"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-issue-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"fd8192ed-329b-4f60-a85a-905fda7f3c24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"fd8192ed-329b-4f60-a85a-905fda7f3c24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"fd8192ed-329b-4f60-a85a-905fda7f3c24"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763572963438}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763572963438}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763572963438}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview body\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763572963438}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"653b3d05-22d2-435d-8dd7-8f73313c707a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"386479a0-de8b-474f-9cd3-3839b2fcbaa5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"386479a0-de8b-474f-9cd3-3839b2fcbaa5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"386479a0-de8b-474f-9cd3-3839b2fcbaa5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"386479a0-de8b-474f-9cd3-3839b2fcbaa5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"386479a0-de8b-474f-9cd3-3839b2fcbaa5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"386479a0-de8b-474f-9cd3-3839b2fcbaa5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"0bf310dd-47bd-49a5-8db9-7f8c004fc05a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"0bf310dd-47bd-49a5-8db9-7f8c004fc05a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"0bf310dd-47bd-49a5-8db9-7f8c004fc05a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0bf310dd-47bd-49a5-8db9-7f8c004fc05a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"0bf310dd-47bd-49a5-8db9-7f8c004fc05a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"0bf310dd-47bd-49a5-8db9-7f8c004fc05a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763572963492}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763572963500},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763572963492}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763572963500},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763572963492}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763572963500},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763572963492}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"text\":\"Overview (regenerated)\",\"tags\":{\"label\":\"feature\",\"review-effort\":2},\"ts\":1763572963500},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763572963492}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"649faa3d-4ff8-415b-b8cb-2246c1c1b3de"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763572964017}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763572964017},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"c3f73dfa-3ae2-4fc2-857c-e816a1b377bf"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763572964045}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763572964045},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763572964045},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763572964074},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml line 11 for max_parallelism=4.\",\"intent\":\"comment_reply\",\"ts\":1763572964074},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"61ea8f5c-0dbe-4ba0-b764-6c7133e5a61c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763572964114}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763572964114},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":1,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763572964114},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763572964114},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"}},{\"issues\":[],\"output\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763572964145},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"}},{\"issues\":[],\"output\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763572964145},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":1,"visor.foreach.total":2},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true},\"comment-assistant\":{\"text\":\"We rely on defaults/visor.yaml for concurrency defaults.\",\"intent\":\"comment_reply\",\"ts\":1763572964145},\"validate-fact\":{\"fact_id\":\"f2\",\"claim\":\"Fast mode is enabled by default\",\"is_valid\":true,\"confidence\":\"high\",\"evidence\":\"src/config.ts:FAST_MODE=true\"},\"post-verified\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},{\"id\":\"f2\",\"category\":\"Feature\",\"claim\":\"Fast mode is enabled by default\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"6c0ebd0e-2b66-44a6-9020-c4154440bbac"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"e4e0a235-f81d-4803-b06d-b941ec50ee3c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"e4e0a235-f81d-4803-b06d-b941ec50ee3c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"e4e0a235-f81d-4803-b06d-b941ec50ee3c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.output":"{\"text\":\"### Assistant Reply\",\"intent\":\"comment_reply\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e4e0a235-f81d-4803-b06d-b941ec50ee3c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"e4e0a235-f81d-4803-b06d-b941ec50ee3c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"e4e0a235-f81d-4803-b06d-b941ec50ee3c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Opening issue with claim about defaults/visor.yaml\",\"intent\":\"issue_triage\",\"ts\":1763572964688},\"apply-issue-labels\":{\"issues\":[]}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Opening issue with claim about defaults/visor.yaml\",\"intent\":\"issue_triage\",\"ts\":1763572964688},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"5d71997b-9c0a-4af2-b98e-66801a0b862c"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763572964706},\"apply-issue-labels\":{\"issues\":[]}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763572964706},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"issue-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"issue-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763572964706},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"extract-facts","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"extract-facts","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"issue-assistant|comment-assistant\":{\"issues\":[]},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763572964725},\"apply-issue-labels\":{\"issues\":[]},\"extract-facts\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}],\"validate-fact\":{\"issues\":[],\"isForEach\":true,\"forEachItems\":[{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}],\"forEachItemResults\":[{\"issues\":[],\"output\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"}}]},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.foreach.item","attributes":{"visor.check.id":"validate-fact","visor.foreach.index":0,"visor.foreach.total":1},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"validate-fact","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"validate-fact","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Bug: crashes on search edge case\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"extract-facts\":{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true},\"issue-assistant\":{\"text\":\"Claim: max_parallelism defaults to 4\",\"intent\":\"issue_triage\",\"ts\":1763572964725},\"apply-issue-labels\":{\"issues\":[]},\"validate-fact\":{\"fact_id\":\"f1\",\"claim\":\"max_parallelism defaults to 4\",\"is_valid\":false,\"confidence\":\"high\",\"evidence\":\"defaults/visor.yaml:11 does not set 4\",\"correction\":\"max_parallelism defaults to 3\"},\"extract-facts-raw\":[{\"id\":\"f1\",\"category\":\"Configuration\",\"claim\":\"max_parallelism defaults to 4\",\"verifiable\":true}]}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"aggregate","visor.provider.type":"script"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"aggregate","scope":"check","name":"aggregate_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"aggregate","scope":"check","name":"aggregate_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"a787020a-a7ed-4428-9e3d-b66533c88c2a"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763572964766}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763572964766}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763572964766}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search (update)\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":1,\"deletions\":0,\"changes\":1,\"status\":\"modified\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return [q] // updated\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview for new commit\",\"tags\":{\"label\":\"feature\",\"review-effort\":3},\"ts\":1763572964766}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"3725dbd3-5283-4cfe-afe0-418ed2666d0f"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"90fcd6e4-8b34-496a-a67f-c5cf43780df5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"90fcd6e4-8b34-496a-a67f-c5cf43780df5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"90fcd6e4-8b34-496a-a67f-c5cf43780df5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"90fcd6e4-8b34-496a-a67f-c5cf43780df5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"90fcd6e4-8b34-496a-a67f-c5cf43780df5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"90fcd6e4-8b34-496a-a67f-c5cf43780df5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{\"overview\":{\"text\":\"Overview text\",\"tags\":{\"label\":\"bug\",\"review-effort\":3},\"ts\":1763572965311}}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"security","scope":"check","name":"security_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"security","scope":"check","name":"security_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"90fcd6e4-8b34-496a-a67f-c5cf43780df5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"90fcd6e4-8b34-496a-a67f-c5cf43780df5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"90fcd6e4-8b34-496a-a67f-c5cf43780df5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"b04398c2-b1bc-4658-a0d1-27522274eb7d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"b04398c2-b1bc-4658-a0d1-27522274eb7d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"b04398c2-b1bc-4658-a0d1-27522274eb7d"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b04398c2-b1bc-4658-a0d1-27522274eb7d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"b04398c2-b1bc-4658-a0d1-27522274eb7d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"b04398c2-b1bc-4658-a0d1-27522274eb7d"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"comment-assistant","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"comment-assistant","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763572965332}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.output":"{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\"}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":2,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"security","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763572965839},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763572965332}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"architecture","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763572965839},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763572965332}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"performance","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763572965839},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763572965332}}}"},"events":[]}
{"name":"visor.provider","attributes":{"visor.check.id":"quality","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"Sample issue title\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[],\"outputs\":{\"overview\":{\"content\":\"{\\\"issues\\\":[],\\\"summary\\\":{\\\"totalIssues\\\":0}}\",\"text\":\"{\\\"content\\\":\\\"{\\\\\\\"issues\\\\\\\":[],\\\\\\\"summary\\\\\\\":{\\\\\\\"totalIssues\\\\\\\":0}}\\\"}\",\"ts\":1763572965839},\"comment-assistant\":{\"text\":\"Regenerating.\",\"intent\":\"comment_retrigger\",\"ts\":1763572965332}}}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"security","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"architecture","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"performance","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.check","attributes":{"visor.check.id":"quality","visor.check.output":"{\"issues\":[]}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":2,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":2,"session_id":"1666bf41-0214-484b-9705-f555396c2ee5"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"Init","state_to":"PlanReady","engine_mode":"state-machine","wave":0,"session_id":"6c555ac9-c208-4c3e-911f-e60d8687a47b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"PlanReady","state_to":"WavePlanning","engine_mode":"state-machine","wave":0,"session_id":"6c555ac9-c208-4c3e-911f-e60d8687a47b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"6c555ac9-c208-4c3e-911f-e60d8687a47b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"overview","visor.provider.type":"ai"}}
{"name":"visor.check","attributes":{"visor.check.id":"overview","visor.check.input.context":"{\"pr\":{\"number\":1,\"title\":\"feat: add user search\",\"author\":\"test-user\",\"branch\":\"feature/test\",\"base\":\"main\"},\"files\":[{\"filename\":\"src/search.ts\",\"additions\":3,\"deletions\":0,\"changes\":3,\"status\":\"added\",\"patch\":\"@@\\n+export function search(q: string) {\\n  return []\\n}\\n\"}],\"outputs\":{}}"},"events":[]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6c555ac9-c208-4c3e-911f-e60d8687a47b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6c555ac9-c208-4c3e-911f-e60d8687a47b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"LevelDispatch","engine_mode":"state-machine","wave":1,"session_id":"6c555ac9-c208-4c3e-911f-e60d8687a47b"}}]}
{"name":"visor.provider","attributes":{"visor.check.id":"apply-overview-labels","visor.provider.type":"github"}}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"fail_if.evaluated","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}},{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.fail_if","attributes":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if"},"events":[{"name":"fail_if.triggered","attrs":{"check":"apply-overview-labels","scope":"check","name":"apply-overview-labels_fail_if","expression":"output.issues && output.issues.some(i => i.severity === 'critical' || i.severity === 'error')","severity":"error"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"LevelDispatch","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6c555ac9-c208-4c3e-911f-e60d8687a47b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"WavePlanning","engine_mode":"state-machine","wave":1,"session_id":"6c555ac9-c208-4c3e-911f-e60d8687a47b"}}]}
{"name":"visor.event","attributes":{},"events":[{"name":"engine.state_transition","attrs":{"state_from":"WavePlanning","state_to":"Completed","engine_mode":"state-machine","wave":1,"session_id":"6c555ac9-c208-4c3e-911f-e60d8687a47b"}}]}
